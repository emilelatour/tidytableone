% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_tidy_table_one_no_strata.R
\name{create_tidytableone_no_strata_checkbox}
\alias{create_tidytableone_no_strata_checkbox}
\title{Create a tidy “Table 1” without strata, with checkbox (multi‑response) blocks}
\usage{
create_tidytableone_no_strata_checkbox(
  data,
  vars,
  na_level = "(Missing)",
  b_replicates = 2000,
  checkbox = NULL,
  checkbox_opts = list(denom = "group", pvals = "per_level", test = "auto", p_adjust =
    "none", show_any = TRUE, note =
    "Participants could select more than one option; percentages may exceed 100\%."),
  ...
)
}
\arguments{
\item{data}{A data frame with the variables to summarise.}

\item{vars}{Character vector of column names to include. If omitted,
all columns of \code{data} are considered.}

\item{na_level}{Character label for missing values in categorical
summaries. Default is \code{"(Missing)"}.}

\item{b_replicates}{Integer; number of bootstrap replicates for select
diagnostics (reserved for future use). Default \code{2000}.}

\item{checkbox}{A data frame (or tibble) specifying checkbox blocks with
\strong{four columns}:
\itemize{
\item \code{var}: the \emph{shared} conceptual name of the block (e.g., \code{"race"}).
\item \code{overall_lbl}: label to display for the block in the \code{var} column
(e.g., \code{"Race"}).
\item \code{checkbox_lbl}: the label for each checkbox level (e.g., \code{"White"}).
\item \code{checkbox_txt}: the value in the data that indicates the box is checked
(often \code{"Checked"}).
}

Each row corresponds to one checkbox column in \code{data} (e.g., \code{race___1},
\code{race___2}, …) and must appear in \code{vars}.}

\item{checkbox_opts}{A named list of options for checkbox blocks:
\itemize{
\item \code{denom}: character, one of \code{"group"}, \code{"nonmissing"}, \code{"responders"}.
Controls the denominator used for percentages. In no‑strata mode,
\code{"group"} and \code{"nonmissing"} both use \code{nrow(data)}; \code{"responders"}
uses the number with any selection in the block.
\item \code{show_any}: logical; include an \code{"Any selected"} row. Default \code{TRUE}.
\item \code{pvals}, \code{test}, \code{p_adjust}, \code{note}: kept for API symmetry; p‑values are
not computed in no‑strata mode.
}}

\item{...}{Reserved for future arguments; currently ignored.}
}
\value{
A tibble with the same schema as \code{\link[=create_tidy_table_one]{create_tidy_table_one()}}, containing
overall summaries for continuous and categorical variables and appended rows
for each checkbox block (marked with \code{class == "checkbox"} and
\code{var_type == "categorical"}). For checkbox rows, denominators and
percentages obey \code{checkbox_opts$denom}.
}
\description{
Summarise variables with a single overall group (\code{strata = "Overall"}) and
add multi‑response "checkbox" blocks (e.g., multiple race selections).
Between‑group tests are not computed in this variant (testing columns are
included but set to \code{NA} for schema compatibility).
}
\examples{
# Small no‑strata checkbox example
set.seed(2)
dfc <- data.frame(
  age = round(rnorm(40, 50, 12), 1),
  gender = sample(c("Female", "Male"), 40, TRUE),
  race___1 = sample(c("Checked", "Unchecked"), 40, TRUE, prob = c(0.6, 0.4)), # White
  race___2 = sample(c("Checked", "Unchecked"), 40, TRUE, prob = c(0.2, 0.8)), # Black
  race___3 = sample(c("Checked", "Unchecked"), 40, TRUE, prob = c(0.1, 0.9)), # AI/AN
  race___98 = sample(c("Checked", "Unchecked"), 40, TRUE, prob = c(0.05, 0.95)) # PNA
)

cb <- data.frame(
  var          = c("race___1","race___2","race___3","race___98"),
  overall_lbl  = "Race",
  checkbox_lbl = c("White", "Black or African-American",
                   "American Indian or Alaska Native", "Prefer not to answer"),
  checkbox_txt = "Checked",
  stringsAsFactors = FALSE
)

tab_cb <- create_tidytableone_no_strata_checkbox(
  data = dfc,
  vars = c("age","gender","race___1","race___2","race___3","race___98"),
  checkbox = cb,
  checkbox_opts = list(denom = "group", show_any = TRUE)
)
head(tab_cb)

# Change denominator to "responders" for the checkbox block
tab_cb_resp <- create_tidytableone_no_strata_checkbox(
  data = dfc,
  vars = c("age","gender","race___1","race___2","race___3","race___98"),
  checkbox = cb,
  checkbox_opts = list(denom = "responders", show_any = TRUE)
)
head(tab_cb_resp)

# (If available) present like a traditional Table 1
# adorn_tidytableone(tab_cb)

}
\seealso{
\code{\link[=create_tidytableone_no_strata]{create_tidytableone_no_strata()}}, \code{\link[=create_tidy_table_one]{create_tidy_table_one()}},
\code{\link[=adorn_tidytableone]{adorn_tidytableone()}}
}
